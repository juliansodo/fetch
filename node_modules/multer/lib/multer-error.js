var util = require('util')

var errorMessages = {
  'LIMIT_PART_COUNT': 'Demasiadas partes',
  'LIMIT_FILE_SIZE': 'La imagen es demasiado grande.',
  'LIMIT_FILE_COUNT': 'No puede subir más de una imagen.',
  'LIMIT_FIELD_KEY': 'No permitimos imagenes con nombres tan largos.',
  'LIMIT_FIELD_VALUE': 'Valor de campo demasiado largo.',
  'LIMIT_FIELD_COUNT': 'No puede subir más de una imagen',
  'LIMIT_UNEXPECTED_FILE': 'Ocurrió un error al subir la imagen. Inténtelo de nuevo más tarde.'
}

function MulterError (code, field) {
  Error.captureStackTrace(this, this.constructor)
  this.name = this.constructor.name
  this.message = errorMessages[code]
  this.code = code
  if (field) this.field = field
}

util.inherits(MulterError, Error)

module.exports = MulterError
